<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>Wyam2 - Shortcodes</title>
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>

        <meta name="google" content="notranslate">
<meta http-equiv="Content-Language" content="en">
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">

                                <!-- mini logo for sidebar mini 50x50 pixels -->
                                <span class="logo-mini"><img src="/assets/img/logo.png"></span>
                                <!-- logo for regular state and mobile devices -->
                                <span class="logo-lg"><img src="/assets/img/logo.png"></span>
                                            </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/blog">Blog</a></li>
        <li class="active"><a href="/docs">Documentation</a></li>
        <li><a href="/recipes">Recipes</a></li>
        <li><a href="/modules">Modules</a></li>
        <li><a href="/shortcodes">Shortcodes</a></li>
        <li><a href="/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/Wyam2/docs/tree/main/input/docs/concepts/shortcodes.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#using-shortcodes">Using Shortcodes</a></p>
<p><a href="#writing-shortcodes">Writing Shortcodes</a></p>
<p><a href="#rendering-shortcodes">Rendering Shortcodes</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview active">
                    <a href="/docs/concepts">Concepts</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/concepts/documents">Documents</a></li>
                <li><a href="/docs/concepts/metadata">Metadata</a></li>
                <li><a href="/docs/concepts/modules">Modules</a></li>
                <li class="selected"><a href="/docs/concepts/shortcodes">Shortcodes</a></li>
                <li><a href="/docs/concepts/pipelines">Pipelines</a></li>
                <li><a href="/docs/concepts/recipes">Recipes</a></li>
                <li><a href="/docs/concepts/themes">Themes</a></li>
                <li><a href="/docs/concepts/io">I/O</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/obtaining">Obtaining</a></li>
                <li><a href="/docs/usage/command-line">Command Line</a></li>
                <li><a href="/docs/usage/configuration">Configuration</a></li>
                <li><a href="/docs/usage/settings">Settings</a></li>
                <li><a href="/docs/usage/embedding">Embedding</a></li>
                <li><a href="/docs/usage/executing-in-a-unit-test">Executing In A Unit Test</a></li>
                <li><a href="/docs/usage/examples">Examples</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/deployment">Deployment</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/deployment/appveyor">AppVeyor for Continuous Integration</a></li>
                <li><a href="/docs/deployment/azure">Azure</a></li>
                <li><a href="/docs/deployment/netlify">Netlify</a></li>
                <li><a href="/docs/deployment/serving-from-a-subdirectory">Serving From A Subdirectory</a></li>
                <li><a href="/docs/deployment/ssl-and-https">SSL and HTTPS</a></li>
                <li><a href="/docs/deployment/cake">Using Cake</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/extensibility">Extensibility</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/extensibility/creating-a-theme">Creating A Theme</a></li>
                <li><a href="/docs/extensibility/customizing-recipe-pipelines">Customizing Recipe Pipelines</a></li>
                <li><a href="/docs/extensibility/customizing-themes">Customizing Themes</a></li>
                <li><a href="/docs/extensibility/writing-a-module">Writing a Module</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/advanced">Advanced</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/advanced/custom_document_types">Custom Document Types</a></li>
                <li><a href="/docs/advanced/document-content-streams">Document Content Streams</a></li>
                <li><a href="/docs/advanced/migrating-to-0.12.x">Migrating to 0.12.x</a></li>
                <li><a href="/docs/advanced/setting-the-culture">Setting The Culture</a></li>
                <li><a href="/docs/advanced/what_to_exclude_from_source_control">What To Exclude From Source Control</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/resources">Resources</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/resources/some-background">Some Background</a></li>
                <li><a href="/docs/resources/built-with-wyam">Built With Wyam</a></li>
                <li><a href="/docs/resources/blog-posts">Blog Posts</a></li>
                <li><a href="/docs/resources/tools">Tools</a></li>
                <li><a href="/docs/resources/hosts">Hosts</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>Shortcodes</h1>
		</section>
	<section class="content">
		
<p>Wyam supports several templating engines like Markdown and Razor, but sometimes you need to generate some content regardless of the templating language you're using. Shortcodes are small text macros that can do big things and work across any templating engine. Wyam comes with <a href="/shortcodes">several helpful shortcodes built-in (click here to view them)</a> and it's easy to add your own.</p>
<h1 id="using-shortcodes">Using Shortcodes</h1>
<p>Shortcodes are a special type of XML processing instruction delimited with <code>&lt;?#</code> and <code>?&gt;</code> (or <code>&lt;?!</code> and <code>?&gt;</code> - more on the different below). This syntax allows the shortcodes to "fall-through" most templating engines like Markdown since those languages ignore XML processing instructions. Every shortcode has a name, often has parameters, and can optionally contain content depending on how and what the shortcode renders.</p>
<p>A shortcode must always be closed with a <code>/</code> (similar to XML elements). If the shortcode contains no content, it can be self-closing by using a trailing slash: <code>&lt;?# ShortcodeName /?&gt;</code>. If the shortcode does contain content, it must be closed with a matching shortcode: <code>&lt;?# ShortcodeName ?&gt;content&lt;?#/ ShortcodeName ?&gt;</code>.</p>
<h2 id="processing-phases">Processing Phases</h2>
<p>Shortcodes are generally evaluated in two phases: pre-rendering and post-rendering (though when writing your own configuration you can execute the shortcode module whenever you like).</p>
<p>The pre-rendering phase is performed <em>before</em> any other templating engines like Markdown or Razor. That means any output from a shortcode in this phase will be processed by those engines. For example, if you want to include a Markdown document in another Markdown document, you'll need to evaluate the <code>Include</code> shortcode during the pre-rendering phase (otherwise the Markdown processor would have already been run and your included Markdown document would never get processed). The pre-rendering phase is indicated with a <code>!</code> delimiter instead of a <code>#</code>: <code>&lt;?! ShortcodeName /?&gt;</code> or <code>&lt;?! ShortcodeName ?&gt;content&lt;?!/ ShortcodeName ?&gt;</code>.</p>
<p>The post-rendering phase happens <em>after</em> all template engines like Markdown and Razor have been evaluated. This is appropriate for more shortcodes and is indicated with a <code>#</code> delimiter as described above.</p>
<h2 id="nesting-shortcodes">Nesting Shortcodes</h2>
<p>Shortcodes can be nested, but keep in mind the current processing phase. If a shortcode result contains other shortcodes, those will be recursively processed but only if the nested shortcode is also part of the current phase.</p>
<h2 id="shortcode-names">Shortcode Names</h2>
<p>By convention shortcode names use PascalCase due to the fact that most of them come from .NET classes, which are also named with PascalCase. That said, the shortcode name is case-insensitive so if you prefer to use some other casing convention, you can.</p>
<h2 id="parameters">Parameters</h2>
<p>Some shortcodes accept parameters which can be either positional, named, or a mixture of both depending on the shortcode. Shortcode parameters appear in the opening shortcode element and are delimited from the shortcode name and each other by whitespace. If the value of a parameter requires whitespace of it's own it can be enclosed in quotes. Parameter names do not need to appear in any specific order and are specified as <code>key=value</code> (or <code>key="value"</code> if the value contains whitespace).</p>
<p><strong>A single unnamed parameter value:</strong></p>
<pre><code>&lt;?# ShortcodeName parameter-value /?&gt;
</code></pre>
<p><strong>A single unnamed quoted parameter value:</strong></p>
<pre><code>&lt;?# ShortcodeName "parameter value" /?&gt;
</code></pre>
<p><strong>Multiple unnammed positional parameter values:</strong></p>
<pre><code>&lt;?# ShortcodeName "parameter 1" parameter2 "parameter value 3" /?&gt;
</code></pre>
<p><strong>A single named parameter and value:</strong></p>
<pre><code>&lt;?# ShortcodeName Foo=Bar /?&gt;
</code></pre>
<p><strong>A single named parameter and quoted value:</strong></p>
<pre><code>&lt;?# ShortcodeName Foo="Bar Baz" /?&gt;
</code></pre>
<p><strong>A mixture of unnamed positional parameter values and named parameters:</strong></p>
<pre><code>&lt;?# ShortcodeName "unnamed value" Foo=Bar /?&gt;
</code></pre>
<p>Note that unnamed positional parameters almost always must appear before named parameters.</p>
<h2 id="content">Content</h2>
<p>In addition to parameters, some shortcodes accept or expect content. Shortcode content goes between the opening and closing shortcode tag and is sent verbatim to the shortcode:</p>
<pre><code>&lt;?# ShortcodeName "parameter 1" ?&gt;
Here is
Some Shortcode
<a href="/api/Wyam.Core.Modules.Contents/Content">Content</a>
&lt;?#/ ShortcodeName ?&gt;
</code></pre>
<p>Because shortcode content is just text in your file, it will be changed by any templating engine(s) the file gets processed by before reaching the <code><a href="/api/Wyam.Core.Modules.Contents/Shortcodes">Shortcodes</a></code> module. For example, if the shortcode about was part of a Markdown file, it would end up looking like this before being processed by the shortcode (notice the surrounding <code>&lt;p&gt;</code> that the Markdown engine added):</p>
<pre><code>&lt;?# ShortcodeName "parameter 1" ?&gt;
&lt;p&gt;Here is
Some Shortcode
Content&lt;/p&gt;
&lt;?#/ ShortcodeName ?&gt;
</code></pre>
<p>Many times that behavior is desirable because we want to use the templating language for the shortcode content. Other times you may want the shortcode content to stay unprocessed by templating engines. In that case, you can surround the content inside a special XML processing instruction with the syntax <code>&lt;?* ... ?&gt;</code>. This works because like the shortcodes themselves, most templating engines will ignore XML processing instructions. The shortcode processor will remove the special wrapping XML processing instruction tags inside the content before processing.</p>
<p>For example, this:</p>
<pre><code>&lt;?# ShortcodeName "parameter 1" ?&gt;
&lt;?*
Here is
Some Shortcode
<a href="/api/Wyam.Core.Modules.Contents/Content">Content</a>
?&gt;
&lt;?#/ ShortcodeName ?&gt;
</code></pre>
<p>Will not get an added <code>&lt;p&gt;</code> from the Markdown engine and instead will get processed by the shortcode as:</p>
<pre><code>&lt;?# ShortcodeName "parameter 1" ?&gt;
Here is
Some Shortcode
<a href="/api/Wyam.Core.Modules.Contents/Content">Content</a>
&lt;?#/ ShortcodeName ?&gt;
</code></pre>
<h1 id="writing-shortcodes">Writing Shortcodes</h1>
<h2 id="config-file">Config File</h2>
<p>You can define shortcodes in the config file by using the <code>ShortcodeCollection</code> property (which is an <code><a href="/api/Wyam.Common.Shortcodes/IShortcodeCollection">IShortcodeCollection</a></code>). IT contains several methods for defining delegate-based shortcodes.</p>
<p>For example, if you define the following in your config file:</p>
<pre><code>ShortcodeCollection.Add("Foo", (string x) =&gt; $"ABC{x}XYZ");
</code></pre>
<p>And then use it in a document like this:</p>
<pre><code>&lt;?# Foo ?&gt;123&lt;?#/ Foo ?&gt;
</code></pre>
<p>The output will be:</p>
<pre><code>ABC123XYZ
</code></pre>
<p>A more real example would be displaying text as a note or warning panel. Assuming the theme uses <a href="https://getbootstrap.com/docs/4.0/components/alerts/">Boostrap</a> then:</p>
<ul>
<li>in the config.wyam file</li>
</ul>
<pre><code class="language-csharp">ShortcodeCollection.Add("Note", (string x) =&gt; $"&lt;div class='alert alert-info' role='alert'&gt;{x}&lt;/div&gt;");
ShortcodeCollection.Add("Warning", (string x) =&gt; $"&lt;div class='alert alert-warning' role='alert'&gt;{x}&lt;/div&gt;");
ShortcodeCollection.Add("Tip", (string x) =&gt; $"&lt;div class='alert alert-success' role='alert'&gt;{x}&lt;/div&gt;");
</code></pre>
<ul>
<li>and in your .md file(s):</li>
</ul>
<pre><code>&lt;?# Note ?&gt;
Thank you for reading Wyam2 documentation!
&lt;?#/ Note ?&gt;
</code></pre>
<h2 id="as-a-class">As A Class</h2>
<p>To write a shortcode as a class, implement <code><a href="/api/Wyam.Common.Shortcodes/IShortcode">IShortcode</a></code> from <code>Wyam.Common</code>. Wyam will scan loaded assemblies prior to execution and make any shortcodes it finds available for use. The shortcode name will be the same as the implementing class name.</p>
<h1 id="rendering-shortcodes">Rendering Shortcodes</h1>
<p>The <code>Shortcode</code> module is used to find shortcodes within a document and render them. In the blog and docs recipes it's applied to every page <em>after</em> templating engines like Markdown and Razor. It's generally an accepted pattern to use the <code>Shortcode</code> module after all other templates have been evaluated, but you can certainly use it earlier in your pipelines if you want to.</p>


	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Wyam2 is maintained by <a href="https://avornicesei.com">Simona Avornicesei</a> and <a href="https://github.com/Wyam2/Wyam/graphs/contributors">other awesome contributors</a>, as a continuation of the <a href="https://github.com/Wyamio/Wyam">Wyam</a> project crafted by <a href="https://daveaglick.com">Dave Glick</a>. <a href="https://github.com/Wyam2/Wyam">Code on GitHub</a>. This site was entirely generated by Wyam. Check out <a href="https://github.com/Wyam2/docs">the site code on GitHub</a>.
<br><br>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <div class="github-button">
    <a href="https://github.com/Wyam2/Wyam"><i class="fa fa-github"></i> GitHub</a>
</div>

        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>