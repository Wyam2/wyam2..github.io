<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/assets/img/favicon.ico" type="image/x-icon">
        <title>Wyam2 - I/O</title>
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/assets/css/override.css" rel="stylesheet">
        <script src="/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/assets/js/bootstrap.min.js"></script>        
        <script src="/assets/js/app.min.js"></script>         
        <script src="/assets/js/highlight.pack.js"></script>   
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/assets/js/mermaid.min.js"></script>
        <script src="/assets/js/svg-pan-zoom.min.js"></script>

        <meta name="google" content="notranslate">
<meta http-equiv="Content-Language" content="en">
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/" class="logo">

                                <!-- mini logo for sidebar mini 50x50 pixels -->
                                <span class="logo-mini"><img src="/assets/img/logo.png"></span>
                                <!-- logo for regular state and mobile devices -->
                                <span class="logo-lg"><img src="/assets/img/logo.png"></span>
                                            </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                                    <li><a href="/blog">Blog</a></li>
        <li class="active"><a href="/docs">Documentation</a></li>
        <li><a href="/recipes">Recipes</a></li>
        <li><a href="/modules">Modules</a></li>
        <li><a href="/shortcodes">Shortcodes</a></li>
        <li><a href="/api">API</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/Wyam2/docs/tree/main/input/docs/concepts/io.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#paths-and-filesdirectories">Paths and Files/Directories</a></p>
<p><a href="#case-sensitivity">Case Sensitivity</a></p>
<p><a href="#file-providers">File Providers</a></p>
<p><a href="#virtual-file-system">Virtual File System</a></p>
<p><a href="#globbing">Globbing</a></p>
<p><a href="#testing">Testing</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li class="treeview active">
                    <a href="/docs/concepts">Concepts</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/concepts/documents">Documents</a></li>
                <li><a href="/docs/concepts/metadata">Metadata</a></li>
                <li><a href="/docs/concepts/modules">Modules</a></li>
                <li><a href="/docs/concepts/shortcodes">Shortcodes</a></li>
                <li><a href="/docs/concepts/pipelines">Pipelines</a></li>
                <li><a href="/docs/concepts/recipes">Recipes</a></li>
                <li><a href="/docs/concepts/themes">Themes</a></li>
                <li class="selected"><a href="/docs/concepts/io">I/O</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/usage/obtaining">Obtaining</a></li>
                <li><a href="/docs/usage/command-line">Command Line</a></li>
                <li><a href="/docs/usage/configuration">Configuration</a></li>
                <li><a href="/docs/usage/settings">Settings</a></li>
                <li><a href="/docs/usage/embedding">Embedding</a></li>
                <li><a href="/docs/usage/executing-in-a-unit-test">Executing In A Unit Test</a></li>
                <li><a href="/docs/usage/examples">Examples</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/deployment">Deployment</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/deployment/appveyor">AppVeyor for Continuous Integration</a></li>
                <li><a href="/docs/deployment/azure">Azure</a></li>
                <li><a href="/docs/deployment/netlify">Netlify</a></li>
                <li><a href="/docs/deployment/serving-from-a-subdirectory">Serving From A Subdirectory</a></li>
                <li><a href="/docs/deployment/ssl-and-https">SSL and HTTPS</a></li>
                <li><a href="/docs/deployment/cake">Using Cake</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/extensibility">Extensibility</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/extensibility/creating-a-theme">Creating A Theme</a></li>
                <li><a href="/docs/extensibility/customizing-recipe-pipelines">Customizing Recipe Pipelines</a></li>
                <li><a href="/docs/extensibility/customizing-themes">Customizing Themes</a></li>
                <li><a href="/docs/extensibility/writing-a-module">Writing a Module</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/advanced">Advanced</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/advanced/custom_document_types">Custom Document Types</a></li>
                <li><a href="/docs/advanced/document-content-streams">Document Content Streams</a></li>
                <li><a href="/docs/advanced/migrating-to-0.12.x">Migrating to 0.12.x</a></li>
                <li><a href="/docs/advanced/setting-the-culture">Setting The Culture</a></li>
                <li><a href="/docs/advanced/what_to_exclude_from_source_control">What To Exclude From Source Control</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/resources">Resources</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/resources/some-background">Some Background</a></li>
                <li><a href="/docs/resources/built-with-wyam">Built With Wyam</a></li>
                <li><a href="/docs/resources/blog-posts">Blog Posts</a></li>
                <li><a href="/docs/resources/tools">Tools</a></li>
                <li><a href="/docs/resources/hosts">Hosts</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>I/O</h1>
		</section>
	<section class="content">
		<p>Wyam uses an IO abstraction layer designed to provide flexibility and consistency when dealing with files, directories, and path information.</p>
<h1 id="paths-and-filesdirectories">Paths and Files/Directories</h1>
<p>Two types of classes are used, <em>paths</em> and <em>files/directories</em>.</p>
<p>Path classes (<code><a href="/api/Wyam.Common.IO/FilePath">FilePath</a></code> and <code><a href="/api/Wyam.Common.IO/DirectoryPath">DirectoryPath</a></code>) describe the location of a file or directory. Paths can be either absolute (I.e., starting from the root of a particular file system) or relative. They can be easily joined together and otherwise manipulated. Every absolute path also contains information about what <em>provider</em> the path is intended to be used with but are not directly tied to that provider (see below for information about providers).</p>
<p>File and directory classes (primarily implementations of <code><a href="/api/Wyam.Common.IO/IFile">IFile</a></code> and <code><a href="/api/Wyam.Common.IO/IDirectory">IDirectory</a></code>) point directly to a potential file
or directory within a given file system. They are usually obtained given a path that points to them. Each provider implements their own file and directory classes as appropriate for that provider. File and directory implementations often provide functionality for reading and writing files, creating directories, and otherwise manipulating the file system.</p>
<h1 id="case-sensitivity">Case Sensitivity</h1>
<p>Different file systems have different rules about case sensitivity. Ideally, we'd be able to follow the rules of the underlying file system. However, because of the way Wyam uses virtual paths (see the discussion on input paths below), and because multiple file systems might be in use at once, we have to operate with the assumption that paths are case-sensitive. Otherwise, we would consider paths equivalent when they might not be. <strong>All paths in Wyam are case sensitive.</strong> That means that when you compare a <code><a href="/api/Wyam.Common.IO/FilePath">FilePath</a></code>, "foo.txt" is different from "Foo.txt". Note, however, that a given file provider <em>might</em> be case-insensitive in which case these paths would actually point to the same file.</p>
<h1 id="file-providers">File Providers</h1>
<p>A file provider acts as a factory for <code><a href="/api/Wyam.Common.IO/IFile">IFile</a></code> and <code><a href="/api/Wyam.Common.IO/IDirectory">IDirectory</a></code> instances. It's usually bundled with specific implementations of <code><a href="/api/Wyam.Common.IO/IFile">IFile</a></code> and <code><a href="/api/Wyam.Common.IO/IDirectory">IDirectory</a></code> for a given file source. For example, the default file provider operates on the local file system and returns file and directory instances that do the same. Other file providers may eventually include ones that provide access to zip files, embedded resources, GitHub repositories, or web-based resources.</p>
<p>All absolute <code><a href="/api/Wyam.Common.IO/FilePath">FilePath</a></code> and <code><a href="/api/Wyam.Common.IO/DirectoryPath">DirectoryPath</a></code> paths must specify a file provider intended to handle the path and return <code><a href="/api/Wyam.Common.IO/IFile">IFile</a></code> and <code><a href="/api/Wyam.Common.IO/IDirectory">IDirectory</a></code> instances when requested. If one isn't explicitly specified, it's set to the default file provider. File providers are generally specified using a URI. The URI scheme indicates which provider should be used and any additional URI information like the host, query string, etc. is passed to the file provider to use as appropriate. Not all file providers use this extra information. For example, the default provider uses the <code>file</code> scheme but doesn't require or accept any additional information. For these kinds of providers, the URI should look like <code>file:///</code> (notice <em>three</em> slashes, the first two separate the scheme from the host information and the last one separates the host from the path and query and completes the URI).</p>
<p>In addition to using a URI directly in the path constructor, there are other ways to specify which provider to use (though they all end up creating a URI under the hood). For one, you can delimit the provider from the path with a <code>|</code> character. You can also use a single URI for both the provider and the path and the two will be automatically separated when creating a <code><a href="/api/Wyam.Common.IO/FilePath">FilePath</a></code> or <code><a href="/api/Wyam.Common.IO/DirectoryPath">DirectoryPath</a></code> (this is useful when relying on the implicit string-to-path conversion).</p>
<p>For example, consider a file provider designed to get information from a GitHub Gist. This example provider doesn't require any URI information beyond the <code>gist</code> scheme, so it's similar to our default <code>file</code> scheme. The provider then looks at the absolute path to determine which specific Gist to retrieve. All of the following ways of specifying the <code>gist</code> provider and the Gist ID of <code>9dac65b1ce1707550cb5f3bd9f7f9998</code> are equivalent:</p>
<ul>
<li><code>"gist|/2721371adf6bf69fa833"</code> - provider portion is implicitly understood to be a scheme without a host or any other components if not a URI (translates to "gist:///").</li>
<li><code>"gist:///2721371adf6bf69fa833"</code> - if no provider is specified explicitly but the path itself is a valid URI, then the scheme, host, etc. become the provider and the path and query become the path. Note again that <code>///</code> is used and not <code>//</code> because a double slash would have indicated the gist ID was a host name and it would have become part of the provider URI, leaving an empty path.</li>
<li><code>new FilePath("gist", "/2721371adf6bf69fa833")</code></li>
<li><code>new FilePath("gist:///", "/2721371adf6bf69fa833")</code></li>
</ul>
<p>Here are equivalent examples for a pretend <code>http</code> file provider that uses host names:</p>
<ul>
<li><code>"http://foo.com|/a/b/c.txt"</code></li>
<li><code>"http://foo.com/a/b/c.txt"</code></li>
<li><code>new FilePath("http://foo.com", "/a/b/c.txt")</code></li>
</ul>
<p>And here are a couple more equivalent examples that don't use host names but do require a path as part of the provider:</p>
<ul>
<li><code>"zip:///C:/foo/my.zip|/a/b/c.txt"</code></li>
<li><code>new FilePath("zip:///C:/foo/my.zip", "/a/b/c.txt")</code></li>
</ul>
<p>Notice that any time the provider itself requires a path, you must either use the <code>|</code> delimiter or construct a path object. It's impossible to infer where the provider path ends and the actual path begins in a single URI in this case.</p>
<h1 id="virtual-file-system">Virtual File System</h1>
<p>The link between paths, file providers, and files and paths is managed by a virtual file system available through the execution context as the <code><a href="/api/Wyam.Common.Execution/IExecutionContext/F2175714">IExecutionContext.FileSystem</a></code> property. The virtual file system can also be accessed in your configuration file. It stores all the registered file providers as well as the various root, input, and output paths and provides methods to join them with relative paths to get <code><a href="/api/Wyam.Common.IO/IFile">IFile</a></code> and <code><a href="/api/Wyam.Common.IO/IDirectory">IDirectory</a></code> instances.</p>
<h2 id="root-path">Root Path</h2>
<p>The root path is an absolute path that acts as a starting point for all other relative paths. It can be changed both from the command line and from the configuration file.</p>
<p>By default the root path is set to the path on the underlying file system from where you execute Wyam.</p>
<h2 id="input-paths">Input Paths</h2>
<p>Wyam uses multiple input paths that together comprise a virtual aggregated set of input files. This lets us do things like specify a set of canonical input files to use for a theme but then selectively override the theme files by putting replacements in an alternate input path with higher precedence.</p>
<p>Input paths are stored in an ordered list. When checking for files, the paths at the end of the list take precedence over those at the start of the list. For example, if path "A" is at index 0, path "B" is at index 1, and they both have a file named "foo.md", the one from path "B" will be used. Further, all paths are aggregated so searching for files or evaluating globbing expressions will consider all files and directories in all input paths. In the example above, getting all input files will result in a set of files from both path "A" and path "B" (with files of the same name from path "B" replacing those from path "A").</p>
<p>By default, the following input paths are set:</p>
<ul>
<li>[path to any NuGet packages with content folders]</li>
<li>"theme"</li>
<li>"input"</li>
</ul>
<h2 id="output-path">Output Path</h2>
<p>The output path is where Wyam will place output files by default. Note that many modules have the ability to manually specify an output path, so this behavior can be modified on a module by module basis.</p>
<p>By default the output path is set to "output".</p>
<h1 id="globbing">Globbing</h1>
<p>Globbing (or globs) is a particular syntax for specifying files or directories using wildcards and other path-based search criteria. Wyam uses a sophisticated globbing engine to give you a lot of flexibility when searching for files. Even better, the globbing engine works with any file provider, be it the local file system or something else.</p>
<p>To demonstrate, let's assume the following files exist in our file provider:</p>
<ul>
<li>/a/x.txt</li>
<li>/a/b/x.txt</li>
<li>/a/b/y.md</li>
<li>/c/z.txt</li>
<li>/d/x.txt</li>
</ul>
<p>The globbing engine supports the following syntax:</p>
<ul>
<li><p><code>*</code></p>
<p>This represents any number of characters at a specific depth. For example, <code>/*/x.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/d/x.txt</li>
</ul>
<p>Note that a wildcard can also be used in the file name. For example, <code>/*/*.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/c/z.txt</li>
<li>/d/x.txt</li>
</ul>
</li>
<li><p><code>**</code></p>
<p>This represents any number of characters at multiple depths. For example, <code>/**/x.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/a/b/x.txt</li>
<li>/d/x.txt</li>
</ul>
</li>
<li><p><code>{,}</code></p>
<p>This represents multiple expansions for the pattern. For example, <code>/**/{y,z}.*</code> will find:</p>
<ul>
<li>/a/b/y.md</li>
<li>/c/z.txt</li>
</ul>
<p>Leaving the last option blank indicates any match at that position. For example, <code>/{a,}/**/x.txt</code> will find:</p>
<ul>
<li>/a/x.txt</li>
<li>/a/b/x.txt</li>
<li>/d/x.txt</li>
</ul>
</li>
<li><p><code>!</code></p>
<p>This represents exclusion and is useful in combination with multiple expansions. For example, <code>/**/{*,!x}.txt</code> will find:</p>
<ul>
<li>/c/z.txt</li>
</ul>
</li>
</ul>
<p>Note that relative globbing patterns are often evaluated from the perspective of your <code>input</code> folder and not necessarily from where your config file resides, especially if the pattern is telling Wyam where to find certain files for processing. If you're having problems and a globbing pattern isn't returning the files you think it should, try adjusting it to start from the <code>input</code> folder.</p>
<h1 id="testing">Testing</h1>
<p>Because the new IO abstraction includes support for virtual file systems, it can be used to greatly simplify testing your custom modules by providing files that don't actually have to exist on disk. Several classes in the <code>Wyam.Testing</code> library in the <code>Wyam.Testing.IO</code> namespace are provided to help with this.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                Wyam2 is maintained by <a href="https://avornicesei.com">Simona Avornicesei</a> and <a href="https://github.com/Wyam2/Wyam/graphs/contributors">other awesome contributors</a>, as a continuation of the <a href="https://github.com/Wyamio/Wyam">Wyam</a> project crafted by <a href="https://daveaglick.com">Dave Glick</a>. <a href="https://github.com/Wyam2/Wyam">Code on GitHub</a>. This site was entirely generated by Wyam. Check out <a href="https://github.com/Wyam2/docs">the site code on GitHub</a>.
<br><br>
            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <div class="github-button">
    <a href="https://github.com/Wyam2/Wyam"><i class="fa fa-github"></i> GitHub</a>
</div>

        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>